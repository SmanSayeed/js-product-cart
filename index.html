<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Cart - Simple E-commerce</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶∏‡¶Æ‡ßÇ‡¶π */
        .cart-drawer {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        .cart-drawer.open {
            transform: translateX(0);
        }
        .overlay {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .product-card:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
    <header class="bg-white shadow-md sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-800">ShopEasy</h1>
            
            <!-- ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® -->
            <button id="cartBtn" class="relative bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                <span class="mr-2">üõí</span>
                Cart (<span id="cartCount">0</span>)
                <span class="ml-2">‡ß≥<span id="cartTotal">0</span></span>
                <span id="cartBadge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-2 py-1 hidden">0</span>
            </button>
        </div>
    </header>

    <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
    <main class="container mx-auto px-4 py-8">
        <!-- ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ü‡ßá‡¶ü -->
        <div id="loading" class="text-center py-8">
            <div class="loading w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"></div>
            <p class="text-gray-600">‡¶™‡¶£‡ßç‡¶Ø‡¶∏‡¶Æ‡ßÇ‡¶π ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        </div>

        <!-- ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ -->
        <div id="productsContainer" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 hidden">
            <!-- ‡¶™‡¶£‡ßç‡¶Ø‡¶∏‡¶Æ‡ßÇ‡¶π ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá -->
        </div>
    </main>

    <!-- ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá -->
    <div id="overlay" class="overlay fixed inset-0 bg-black bg-opacity-50 z-40"></div>

    <!-- ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ -->
    <div id="cartDrawer" class="cart-drawer fixed top-0 right-0 w-full sm:w-96 h-full bg-white shadow-xl z-50 flex flex-col">
        <!-- ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
        <div class="p-4 border-b border-gray-200">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-bold text-gray-800">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü</h2>
                <button id="closeDrawer" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
        </div>

        <!-- ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ‡¶∏ -->
        <div id="cartItems" class="flex-1 overflow-y-auto p-4">
            <div id="emptyCart" class="text-center py-8 text-gray-500">
                <p class="text-lg">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø</p>
                <p class="text-sm">‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            </div>
        </div>

        <!-- ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø -->
        <div id="cartSummary" class="border-t border-gray-200 p-4 bg-gray-50">
            <div class="flex justify-between items-center mb-4">
                <span class="text-lg font-semibold">‡¶Æ‡ßã‡¶ü:</span>
                <span class="text-xl font-bold text-blue-600">‡ß≥<span id="drawerTotal">0</span></span>
            </div>
            <button id="checkoutBtn" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold">
                ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
        </div>
    </div>

    <script>
        // ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶≤‡ßã‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
        const App = (function() {
            // ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶≠‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶¨‡¶≤ ‡¶∏‡¶Æ‡ßÇ‡¶π (lexical scoping)
            let products = [];
            let cart = [];
            let isLoading = false;

            // ‡¶Æ‡ßá‡¶Æ‡ßã‡¶á‡¶ú‡ßá‡¶∂‡¶® ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü
            const cache = {
                products: null,
                lastFetch: null
            };

            // DOM ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏ ‡¶∏‡¶Æ‡ßÇ‡¶π
            const elements = {
                loading: document.getElementById('loading'),
                productsContainer: document.getElementById('productsContainer'),
                cartBtn: document.getElementById('cartBtn'),
                cartCount: document.getElementById('cartCount'),
                cartTotal: document.getElementById('cartTotal'),
                cartBadge: document.getElementById('cartBadge'),
                overlay: document.getElementById('overlay'),
                cartDrawer: document.getElementById('cartDrawer'),
                closeDrawer: document.getElementById('closeDrawer'),
                cartItems: document.getElementById('cartItems'),
                emptyCart: document.getElementById('emptyCart'),
                drawerTotal: document.getElementById('drawerTotal'),
                checkoutBtn: document.getElementById('checkoutBtn')
            };

            // ‡¶á‡¶â‡¶ü‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶∏‡¶Æ‡ßÇ‡¶π
            const utils = {
                // ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
                formatPrice: function(price) {
                    return parseFloat(price).toFixed(2);
                },

                // localStorage ‡¶è ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
                saveToStorage: function(key, data) {
                    try {
                        localStorage.setItem(key, JSON.stringify(data));
                    } catch (error) {
                        console.error('Storage save error:', error);
                    }
                },

                // localStorage ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
                loadFromStorage: function(key) {
                    try {
                        const data = localStorage.getItem(key);
                        return data ? JSON.parse(data) : null;
                    } catch (error) {
                        console.error('Storage load error:', error);
                        return null;
                    }
                }
            };

            // API ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡¶ø‡¶®‡¶ï‡ßç‡¶∞‡ßã‡¶®‡¶æ‡¶∏ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            async function fetchProducts() {
                // ‡¶Æ‡ßá‡¶Æ‡ßã‡¶á‡¶ú‡ßá‡¶∂‡¶® ‡¶ö‡ßá‡¶ï - ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
                const now = Date.now();
                if (cache.products && cache.lastFetch && (now - cache.lastFetch) < 300000) { // ‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü
                    console.log('‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
                    return cache.products;
                }

                try {
                    isLoading = true;
                    showLoading();

                    // FakeStore API ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶æ
                    const response = await fetch('https://fakestoreapi.com/products?limit=10');
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    
                    // ‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ (‡¶Æ‡ßá‡¶Æ‡ßã‡¶á‡¶ú‡ßá‡¶∂‡¶®)
                    cache.products = data;
                    cache.lastFetch = now;
                    
                    products = data;
                    return data;
                } catch (error) {
                    console.error('‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá:', error);
                    throw error;
                } finally {
                    isLoading = false;
                    hideLoading();
                }
            }

            // ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function showLoading() {
                elements.loading.classList.remove('hidden');
                elements.productsContainer.classList.add('hidden');
            }

            // ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function hideLoading() {
                elements.loading.classList.add('hidden');
                elements.productsContainer.classList.remove('hidden');
            }

            // ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function createProductCard(product) {
                return `
                    <div class="product-card bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                        <img src="${product.image}" alt="${product.title}" class="w-full h-48 object-cover">
                        <div class="p-4">
                            <h3 class="text-lg font-semibold text-gray-800 mb-2 line-clamp-2">${product.title}</h3>
                            <p class="text-gray-600 text-sm mb-3 line-clamp-3">${product.description}</p>
                            <div class="flex items-center justify-between">
                                <span class="text-xl font-bold text-blue-600">‡ß≥${utils.formatPrice(product.price * 85)}</span>
                                <button 
                                    onclick="App.addToCart(${product.id})" 
                                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium"
                                >
                                    ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            // ‡¶™‡¶£‡ßç‡¶Ø‡¶∏‡¶Æ‡ßÇ‡¶π ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function renderProducts(productList) {
                const container = elements.productsContainer;
                container.innerHTML = productList.map(createProductCard).join('');
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function addToCart(productId) {
                const product = products.find(p => p.id === productId);
                if (!product) return;

                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    // ‡¶Ø‡¶¶‡¶ø ‡¶™‡¶£‡ßç‡¶Ø‡¶ü‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶æ‡¶π‡¶≤‡ßá quantity ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®‡ßã
                    existingItem.quantity += 1;
                } else {
                    // ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
                    cart.push({
                        ...product,
                        quantity: 1,
                        price: product.price * 85 // ‡¶ü‡¶æ‡¶ï‡¶æ‡¶Ø‡¶º ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞
                    });
                }

                // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
                updateCartUI();
                
                // localStorage ‡¶è ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
                utils.saveToStorage('cart', cart);

                // ‡¶∏‡¶´‡¶≤ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
                showNotification('‡¶™‡¶£‡ßç‡¶Ø‡¶ü‡¶ø ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶£‡ßç‡¶Ø ‡¶∏‡¶∞‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function removeFromCart(productId) {
                cart = cart.filter(item => item.id !== productId);
                updateCartUI();
                utils.saveToStorage('cart', cart);
                renderCartItems();
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü‡ßá‡¶∞ quantity ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function updateQuantity(productId, change) {
                const item = cart.find(item => item.id === productId);
                if (!item) return;

                item.quantity += change;
                
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartUI();
                    utils.saveToStorage('cart', cart);
                    renderCartItems();
                }
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function updateCartUI() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

                elements.cartCount.textContent = totalItems;
                elements.cartTotal.textContent = utils.formatPrice(totalPrice);
                elements.drawerTotal.textContent = utils.formatPrice(totalPrice);

                // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                if (totalItems > 0) {
                    elements.cartBadge.textContent = totalItems;
                    elements.cartBadge.classList.remove('hidden');
                } else {
                    elements.cartBadge.classList.add('hidden');
                }
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function renderCartItems() {
                const container = elements.cartItems;
                const emptyCart = elements.emptyCart;

                if (cart.length === 0) {
                    emptyCart.classList.remove('hidden');
                    container.innerHTML = '';
                    return;
                }

                emptyCart.classList.add('hidden');
                
                const cartHTML = cart.map(item => `
                    <div class="flex items-center gap-4 border-b border-gray-200 pb-4 mb-4">
                        <img src="${item.image}" alt="${item.title}" class="w-16 h-16 object-cover rounded">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-800 text-sm">${item.title}</h4>
                            <p class="text-blue-600 font-semibold">‡ß≥${utils.formatPrice(item.price)}</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <button 
                                onclick="App.updateQuantity(${item.id}, -1)"
                                class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 hover:bg-gray-300 flex items-center justify-center"
                            >
                                -
                            </button>
                            <span class="w-8 text-center font-medium">${item.quantity}</span>
                            <button 
                                onclick="App.updateQuantity(${item.id}, 1)"
                                class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 hover:bg-gray-300 flex items-center justify-center"
                            >
                                +
                            </button>
                        </div>
                        <button 
                            onclick="App.removeFromCart(${item.id})"
                            class="text-red-500 hover:text-red-700 ml-2"
                        >
                            üóëÔ∏è
                        </button>
                    </div>
                `).join('');

                container.innerHTML = cartHTML;
            }

            // ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function showNotification(message) {
                // ‡¶∏‡¶ø‡¶Æ‡ßç‡¶™‡¶≤ notification ‡¶§‡ßà‡¶∞‡¶ø
                const notification = document.createElement('div');
                notification.className = 'fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all';
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶∞‡¶æ‡¶®‡ßã
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ñ‡ßã‡¶≤‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function openCartDrawer() {
                elements.overlay.classList.add('show');
                elements.cartDrawer.classList.add('open');
                renderCartItems();
            }

            // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            function closeCartDrawer() {
                elements.overlay.classList.remove('show');
                elements.cartDrawer.classList.remove('open');
            }

            // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
            function setupEventListeners() {
                // ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï
                elements.cartBtn.addEventListener('click', openCartDrawer);
                
                // ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®
                elements.closeDrawer.addEventListener('click', closeCartDrawer);
                
                // ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß
                elements.overlay.addEventListener('click', closeCartDrawer);
                
                // ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü ‡¶¨‡¶æ‡¶ü‡¶®
                elements.checkoutBtn.addEventListener('click', function() {
                    if (cart.length === 0) {
                        alert('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø!');
                        return;
                    }
                    alert('‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ü‡¶∏‡¶õ‡ßá!');
                });

                // ESC ‡¶ï‡ßÄ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶°‡ßç‡¶∞‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        closeCartDrawer();
                    }
                });
            }

            // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
            async function init() {
                try {
                    // localStorage ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
                    const savedCart = utils.loadFromStorage('cart');
                    if (savedCart) {
                        cart = savedCart;
                        updateCartUI();
                    }

                    // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
                    setupEventListeners();

                    // ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
                    const productData = await fetchProducts();
                    renderProducts(productData);

                    console.log('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
                } catch (error) {
                    console.error('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:', error);
                    hideLoading();
                    elements.productsContainer.innerHTML = `
                        <div class="col-span-full text-center py-8">
                            <p class="text-red-600 text-lg">‡¶™‡¶£‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</p>
                            <button onclick="location.reload()" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®
                            </button>
                        </div>
                    `;
                }
            }

            // ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï API ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶ï‡ßç‡¶≤‡ßã‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá)
            return {
                init,
                addToCart,
                removeFromCart,
                updateQuantity,
                openCartDrawer,
                closeCartDrawer
            };
        })();

        // DOM ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ
        document.addEventListener('DOMContentLoaded', function() {
            App.init();
        });

        // ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ error handling
        window.addEventListener('error', function(e) {
            console.error('‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶è‡¶∞‡¶∞:', e.error);
        });

        // ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® (PWA ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶§‡ßá PWA ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡ßá‡¶°‡¶ø
                console.log('Service Worker support detected');
            });
        }
    </script>
</body>
</html>